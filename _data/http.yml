---
- name: Access Token
  routes:
  - method: POST
    params: {}
    compiled: (?-mix:\A\/token(?:\.(?<format>[^\/.?]+))?\Z)
    path: /token(.:format)
    minpath: /token
    id: POST/token
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/token(?:\.(?<format>[^\/.?]+))?$
  - method: POST
    params: {}
    compiled: (?-mix:\A\/token\/tickets(?:\.(?<format>[^\/.?]+))?\Z)
    path: /token/tickets(.:format)
    minpath: /token/tickets
    id: POST/token/tickets
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/token\/tickets(?:\.(?<format>[^\/.?]+))?$
  - method: POST
    params: {}
    compiled: (?-mix:\A\/access_token_request(?:\.(?<format>[^\/.?]+))?\Z)
    path: /access_token_request(.:format)
    minpath: /access_token_request
    id: POST/access_token_request
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/access_token_request(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params:
      ref: ''
      pin: ''
    compiled: (?-mix:\A\/access_token_request\/(?<ref>[^\/.?]+)\/(?<pin>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /access_token_request/:ref/:pin(.:format)
    minpath: /access_token_request/:ref/:pin
    id: GET/access_token_request/:ref/:pin
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/access_token_request\/(?<ref>[^\/.?]+)\/(?<pin>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params: {}
    compiled: (?-mix:\A\/access_token_request(?:\.(?<format>[^\/.?]+))?\Z)
    path: /access_token_request(.:format)
    minpath: /access_token_request
    id: GET/access_token_request
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/access_token_request(?:\.(?<format>[^\/.?]+))?$
  - method: PUT
    params:
      ref: ''
      pin: ''
    compiled: (?-mix:\A\/access_token_request\/(?<ref>[^\/.?]+)\/(?<pin>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /access_token_request/:ref/:pin(.:format)
    minpath: /access_token_request/:ref/:pin
    id: PUT/access_token_request/:ref/:pin
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/access_token_request\/(?<ref>[^\/.?]+)\/(?<pin>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?$
  entity_name: Access Token
  docs:
  - type: String
    description: ''
    name: token
  - type: String
    description: ''
    name: token_type
- name: App
  routes:
  - method: GET
    params: {}
    compiled: (?-mix:\A\/apps(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps(.:format)
    minpath: /apps
    id: GET/apps
    description: |
      <p>Returns a collection of lists of <a href="/entities/App">App entities</a>
      The <code>self</code> key lists Apps owned directly by the current user.
      The <code>org:&lt;organization nickname&gt;</code> keys list Apps the current user has access to through organizations they are a member of.</p>
    returns:
    - App
    return_type: collection
    failure_modes: {}
    regex: ^\/apps(?:\.(?<format>[^\/.?]+))?$
  - method: POST
    params: {}
    compiled: (?-mix:\A\/apps(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps(.:format)
    minpath: /apps
    id: POST/apps
    description: |-
      <h1>Create an App</h1>

      <p>The created application will be owned by the current AuthenticatedUser.</p>

      <h2>Sample request payload:</h2>
      <div class="highlight"><pre><span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;my-fantastic-app&quot;</span>
      <span class="p">}</span>
      </pre></div>
      <h2>Sample response payload:</h2>
      <div class="highlight"><pre><span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;524c0904562410a437000004&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;my-fantastic-app&quot;</span><span class="p">,</span>
        <span class="s2">&quot;environment_hash&quot;</span><span class="o">:</span> <span class="p">{},</span>
        <span class="s2">&quot;created_at&quot;</span><span class="o">:</span> <span class="mi">1380748357</span>
        <span class="s2">&quot;updated_at&quot;</span><span class="o">:</span> <span class="mi">1380748357</span>
      <span class="p">}</span>
      </pre></div>
    returns:
    - App
    return_type: instance
    failure_modes:
      invalid_data:
        status: 422
        message: Data did not pass validaitons.
        description: |
          <p>Refer to the errors hash and try again.</p>
      no_such_project:
        status: 400
        message: No Divshot.com Project by that id.
        description: |
          <p>The given <code>project_id</code> does not correspond to any Projects created by the Divshot.com editor. Please check your records.</p>
      project_already_has_app:
        status: 400
        message: Cannot add a Project to two Applications.
        description: |
          <p>The project id specified already has an Application associated with it.</p>
      project_owned_by_another_user:
        status: 400
        message: Cannot set Application for other user's Projects.
        description: |
          <p>The project specified does not belong to you.</p>
      cannot_assign_project_application:
        status: 400
        message: You do not have permission to set Application for this Project.
        description: |
          <p>The project specified belongs to an Organization that you do not have permissions for.</p>
    regex: ^\/apps(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params:
      id: ''
    compiled: (?-mix:\A\/apps\/(?<id>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:id(.:format)
    minpath: /apps/:id
    id: GET/apps/:id
    description: |
      <p>See <a href="/entities/app">App</a> for example of the App entity_name</p>
    returns:
    - App
    return_type: instance
    failure_modes:
      app_not_found:
        message: No app found by this id.
        status: 404
        description: |
          <p>There is no app registered to that id. Please check your records and if neccessary contact <a href="mailto:support@divshot.com">support@divshot.com</a>.</p>
      unauthorized_read:
        message: Not authorized to view this app.
        status: 401
        description: |
          <p>You are attempting to access an app you are not authorized to access. Please contact the owner of the application.</p>
    regex: ^\/apps\/(?<id>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params:
      id: ''
    compiled: (?-mix:\A\/apps\/(?<id>[^\/.?]+)\/stats(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:id/stats(.:format)
    minpath: /apps/:id/stats
    id: GET/apps/:id/stats
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/apps\/(?<id>[^\/.?]+)\/stats(?:\.(?<format>[^\/.?]+))?$
  - method: PUT
    params:
      id: ''
      name:
        required: false
        type: String
      owner:
        required: false
        type: String
      production:
        required: false
        type: Virtus::Attribute::Boolean
    compiled: (?-mix:\A\/apps\/(?<id>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:id(.:format)
    minpath: /apps/:id
    id: PUT/apps/:id
    description: |
      <p>Update the App. At this time only the name of the app may be changed.
      Be careful with this operation as it will change the subdomain your app will be reached at.</p>
    returns:
    - App
    return_type: instance
    failure_modes:
      app_not_found:
        message: No app found by this id.
        status: 404
        description: |
          <p>There is no app registered to that id. Please check your records and if neccessary contact <a href="mailto:support@divshot.com">support@divshot.com</a>.</p>
      unauthorized_read:
        message: Not authorized to view this app.
        status: 401
        description: |
          <p>You are attempting to access an app you are not authorized to access. Please contact the owner of the application.</p>
      unauthorized_mutation:
        message: Not authorized to mutate this resource.
        status: 401
        description: |
          <p>You are attempting to access an app you are not authorized make changes to. Please contact the owner of the applicaton.</p>
      invalid_data:
        status: 422
        message: Data did not pass validaitons.
        description: |
          <p>Refer to the errors hash and try again.</p>
      cannot_transfer_to_new_owner:
        status: 401
        message: Cannot transfer app to org
        description: |
          <p>You do not have permission to transfer this app to that owner.</p>
      payment_required:
        status: 402
        message: Payment or an upgrade to larger plan is required in order to perform
          the requested action.
        description: ''
    regex: ^\/apps\/(?<id>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?$
  - method: POST
    params:
      id: ''
      to:
        required: true
        type: String
        desc: The new user or org to which to transfer this app.
    compiled: (?-mix:\A\/apps\/(?<id>[^\/.?]+)\/transfer(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:id/transfer(.:format)
    minpath: /apps/:id/transfer
    id: POST/apps/:id/transfer
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/apps\/(?<id>[^\/.?]+)\/transfer(?:\.(?<format>[^\/.?]+))?$
  - method: DELETE
    params:
      id: ''
    compiled: (?-mix:\A\/apps\/(?<id>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:id(.:format)
    minpath: /apps/:id
    id: DELETE/apps/:id
    description: |
      <p>Delete the App.
      Be extremely careful with this destructive action.</p>
    returns: 
    return_type: 
    failure_modes:
      app_not_found:
        message: No app found by this id.
        status: 404
        description: |
          <p>There is no app registered to that id. Please check your records and if neccessary contact <a href="mailto:support@divshot.com">support@divshot.com</a>.</p>
      unauthorized_read:
        message: Not authorized to view this app.
        status: 401
        description: |
          <p>You are attempting to access an app you are not authorized to access. Please contact the owner of the application.</p>
      unauthorized_mutation:
        message: Not authorized to mutate this resource.
        status: 401
        description: |
          <p>You are attempting to access an app you are not authorized make changes to. Please contact the owner of the applicaton.</p>
    regex: ^\/apps\/(?<id>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?$
  - method: PUT
    params:
      id: ''
      ssl_cert:
        required: true
      ssl_key:
        required: true
      ssl_bundle:
        required: false
    compiled: (?-mix:\A\/apps\/(?<id>[^\/.?]+)\/ssl(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:id/ssl(.:format)
    minpath: /apps/:id/ssl
    id: PUT/apps/:id/ssl
    description: |
      <p>Upload an ssl certificate for your application.</p>
    returns: 
    return_type: 
    failure_modes:
      needs_production_plan:
        message: App needs a production plan to add custom domain SSL. Upgrade your
          subscription at https://divshot.com
        status: 402
        description: |
          <p>You are attempting to add an SSL certificate to an app that is not on a production level service plan. We only allow custom domain SSL on production apps.</p>
      app_not_found:
        message: No app found by this id.
        status: 404
        description: |
          <p>There is no app registered to that id. Please check your records and if neccessary contact <a href="mailto:support@divshot.com">support@divshot.com</a>.</p>
      unauthorized_mutation:
        message: Not authorized to mutate this resource.
        status: 401
        description: |
          <p>You are attempting to access an app you are not authorized make changes to. Please contact the owner of the applicaton.</p>
      invalid_data:
        status: 422
        message: Data did not pass validaitons.
        description: |
          <p>Refer to the errors hash and try again.</p>
    regex: ^\/apps\/(?<id>[^\/.?]+)\/ssl(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params:
      id: ''
    compiled: (?-mix:\A\/apps\/(?<id>[^\/.?]+)\/ssl(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:id/ssl(.:format)
    minpath: /apps/:id/ssl
    id: GET/apps/:id/ssl
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/apps\/(?<id>[^\/.?]+)\/ssl(?:\.(?<format>[^\/.?]+))?$
  - method: POST
    params:
      organization_id: ''
    compiled: (?-mix:\A\/organizations\/(?<organization_id>[^\/.?]+)\/apps(?:\.(?<format>[^\/.?]+))?\Z)
    path: /organizations/:organization_id/apps(.:format)
    minpath: /organizations/:organization_id/apps
    id: POST/organizations/:organization_id/apps
    description: |-
      <h1>Create an App</h1>

      <p>The created application will be owned by the specified Organization.</p>

      <h2>Sample request payload:</h2>
      <div class="highlight"><pre><span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;my-fantastic-app&quot;</span>
      <span class="p">}</span>
      </pre></div>
      <h2>Sample response payload:</h2>
      <div class="highlight"><pre><span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;524c0904562410a437000004&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;my-fantastic-app&quot;</span><span class="p">,</span>
        <span class="s2">&quot;environment_hash&quot;</span><span class="o">:</span> <span class="p">{},</span>
        <span class="s2">&quot;created_at&quot;</span><span class="o">:</span> <span class="mi">1380748357</span>
        <span class="s2">&quot;updated_at&quot;</span><span class="o">:</span> <span class="mi">1380748357</span>
      <span class="p">}</span>
      </pre></div>
    returns:
    - App
    return_type: instance
    failure_modes:
      cannot_create_app_for_org:
        status: 401
        message: Cannot create Org resources.
        description: |
          <p>You do not have permission to create apps for this Organization. Please contact the a representative of the Organization.</p>
      invalid_data:
        status: 422
        message: Data did not pass validaitons.
        description: |
          <p>Refer to the errors hash and try again.</p>
    regex: ^\/organizations\/(?<organization_id>[^\/.?]+)\/apps(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params:
      organization_id: ''
    compiled: (?-mix:\A\/organizations\/(?<organization_id>[^\/.?]+)\/apps(?:\.(?<format>[^\/.?]+))?\Z)
    path: /organizations/:organization_id/apps(.:format)
    minpath: /organizations/:organization_id/apps
    id: GET/organizations/:organization_id/apps
    description: |
      <p>Lists apps owned directly by the specified Organization.</p>
    returns:
    - App
    return_type: collection
    failure_modes:
      unauthorized_org_read:
        status: 401
        message: Cannot list Org Apps.
        description: |
          <p>You do not have permission te list apps for this Organization. Please contact the a representative of the Organization.</p>
    regex: ^\/organizations\/(?<organization_id>[^\/.?]+)\/apps(?:\.(?<format>[^\/.?]+))?$
  - method: PUT
    params: {}
    compiled: (?-mix:\A\/stats(?:\.(?<format>[^\/.?]+))?\Z)
    path: /stats(.:format)
    minpath: /stats
    id: PUT/stats
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/stats(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params: {}
    compiled: (?-mix:\A\/transfer(?:\.(?<format>[^\/.?]+))?\Z)
    path: /transfer(.:format)
    minpath: /transfer
    id: GET/transfer
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/transfer(?:\.(?<format>[^\/.?]+))?$
  entity_name: App
  docs:
  - type: String
    immutable: true
    description: |
      <p>The machine readable identifier for a Hosted Application.</p>
    name: id
  - type: String
    description: |
      <p>The human readable identifier for a Hosted Application.</p>

      <p>The <code>name</code> MUST be a valid subdomain name as it will be used in a domain.</p>

      <p>Furthermore, the <code>name</code> MUST be unique across the entire divshot.io system.</p>
    name: name
  - type: Array
    description: |
      <p>A List of domains for this application.</p>
    name: custom_domains
  - type: Timestamp
    description: |
      <p><a href="https://en.wikipedia.org/wiki/Unix_time">https://en.wikipedia.org/wiki/Unix_time</a></p>
    name: created_at
  - type: Timestamp
    description: |
      <p><a href="https://en.wikipedia.org/wiki/Unix_time">https://en.wikipedia.org/wiki/Unix_time</a></p>
    name: updated_at
  - type: Object
    description: |
      <p>A hash of the application environments.</p>

      <p>By default, apps have <code>development</code>, <code>staging</code>, and <code>production</code> environments.</p>

      <p>For each environment there is a key <code>build</code> which gives the build id. This is useful for when you want to promote a build, e.g. promoting staging to production.</p>

      <p>For further details see <a href="/routes/POST/apps/:app_id/releases/:env">the promotion api</a>.</p>
      <div class="highlight"><pre><span class="p">{</span>
        <span class="nt">&quot;development&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;cc32cuec32233cee2&quot;</span> <span class="p">},</span>
        <span class="nt">&quot;staging&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;cc32cuec32233cee2&quot;</span> <span class="p">},</span>
        <span class="nt">&quot;production&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;cc32cuec32233cee2&quot;</span> <span class="p">}</span>
      <span class="p">}</span>
      </pre></div>
      <p>In this synthetic example, each environment is pointing to the same build.</p>
    name: environments
- name: Domain
  routes:
  - method: GET
    params:
      app_id: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/domains(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/domains(.:format)
    minpath: /apps/:app_id/domains
    id: GET/apps/:app_id/domains
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/domains(?:\.(?<format>[^\/.?]+))?$
  - method: PUT
    params:
      app_id: ''
      name: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/domains\/(?<name>.+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/domains/*name(.:format)
    minpath: /apps/:app_id/domains/:name
    id: PUT/apps/:app_id/domains/:name
    description: Undocumented
    returns:
    - Domain
    return_type: instance
    failure_modes:
      app_not_found:
        status: 404
        message: App not found.
        description: ''
      unathorized_for_custom_domains:
        status: 401
        message: Not authorized to manage domains for this app.
        description: ''
      domain_not_valid:
        status: 400
        message: name MUST be a valid domain name. (MUST contain at least 1 subdomain,
          e.g. 'www')
        description: ''
      domain_already_on_app:
        status: 403
        message: This Domain is already registered to this app.
        description: ''
      this_domain_is_in_another_castle:
        status: 403
        message: I'm sorry Mario, this domain is registered to another app. Please
          contact support if you own this Domain.
        description: ''
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/domains\/(?<name>.+)(?:\.(?<format>[^\/.?]+))?$
  - method: DELETE
    params:
      app_id: ''
      name: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/domains\/(?<name>.+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/domains/*name(.:format)
    minpath: /apps/:app_id/domains/:name
    id: DELETE/apps/:app_id/domains/:name
    description: Undocumented
    returns: []
    return_type: 
    failure_modes:
      app_not_found:
        status: 404
        message: App not found.
        description: ''
      unathorized_for_custom_domains:
        status: 401
        message: Not authorized to manage domains for this app.
        description: ''
      domain_not_valid:
        status: 400
        message: name MUST be a valid domain name. (MUST contain at least 1 subdomain,
          e.g. 'www')
        description: ''
      domain_is_apex: 
      domain_already_on_app:
        status: 403
        message: This Domain is already registered to this app.
        description: ''
      this_domain_is_in_another_castle:
        status: 403
        message: I'm sorry Mario, this domain is registered to another app. Please
          contact support if you own this Domain.
        description: ''
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/domains\/(?<name>.+)(?:\.(?<format>[^\/.?]+))?$
  entity_name: Domain
  docs: []
- name: Build
  routes:
  - method: GET
    params:
      app_id: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/builds(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/builds(.:format)
    minpath: /apps/:app_id/builds
    id: GET/apps/:app_id/builds
    description: Undocumented
    returns:
    - Build
    return_type: collection
    failure_modes:
      cannot_access_builds_for_app:
        message: Not authorized to create builds for this app.
        status: 401
        description: |
          <p>You do not have permission to access builds for this app. Please contact the owner of this app.</p>
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/builds(?:\.(?<format>[^\/.?]+))?$
  - method: POST
    params:
      app_id: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/builds(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/builds(.:format)
    minpath: /apps/:app_id/builds
    id: POST/apps/:app_id/builds
    description: Undocumented
    returns:
    - Build
    return_type: instance
    failure_modes:
      app_not_found:
        message: App does not exist. Run 'divshot create <name>' with the name in
          your divshot.json
        status: 404
        description: |
          <p>Cannot create a build for an app that does not exist. Check divshot.json and run &#39;divshot create <name-of-app>&#39;</p>
      cannot_access_builds_for_app:
        message: Not authorized to create builds for this app.
        status: 401
        description: |
          <p>You do not have permission to access builds for this app. Please contact the owner of this app.</p>
      invalid_data:
        status: 422
        message: Data did not pass validaitons.
        description: |
          <p>Refer to the errors hash and try again.</p>
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/builds(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params:
      app_id: ''
      id: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/builds\/(?<id>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/builds/:id(.:format)
    minpath: /apps/:app_id/builds/:id
    id: GET/apps/:app_id/builds/:id
    description: Undocumented
    returns:
    - Build
    return_type: instance
    failure_modes:
      cannot_access_builds_for_app:
        message: Not authorized to create builds for this app.
        status: 401
        description: |
          <p>You do not have permission to access builds for this app. Please contact the owner of this app.</p>
      no_such_build:
        message: No build found by that ref for this app.
        status: 404
        description: |
          <p>Could not find the build referenced in the url. Please check your records and try again.</p>
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/builds\/(?<id>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?$
  - method: PUT
    params:
      app_id: ''
      id: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/builds\/(?<id>[^\/.?]+)\/finalize(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/builds/:id/finalize(.:format)
    minpath: /apps/:app_id/builds/:id/finalize
    id: PUT/apps/:app_id/builds/:id/finalize
    description: Undocumented
    returns:
    - Build
    return_type: instance
    failure_modes:
      cannot_access_builds_for_app:
        message: Not authorized to create builds for this app.
        status: 401
        description: |
          <p>You do not have permission to access builds for this app. Please contact the owner of this app.</p>
      no_such_build:
        message: No build found by that ref for this app.
        status: 404
        description: |
          <p>Could not find the build referenced in the url. Please check your records and try again.</p>
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/builds\/(?<id>[^\/.?]+)\/finalize(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params: {}
    compiled: (?-mix:\A\/finalize(?:\.(?<format>[^\/.?]+))?\Z)
    path: /finalize(.:format)
    minpath: /finalize
    id: GET/finalize
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/finalize(?:\.(?<format>[^\/.?]+))?$
  entity_name: Build
  docs:
  - type: String
    description: |
      <p>The identifier of the build. Immutable.</p>
    name: id
  - type: Boolean
    description: |
      <p>Is the build finalized? Once a build is final no further changes will be accepted.</p>
    name: final
  - type: String
    description: |
      <p>A message describing the build. Maybe something like: &quot;new copy on lander re: holiday discount&quot;</p>
    name: message
  - type: Object
    description: |
      <p>divshot.io hosting configuration.</p>

      <p>Corresponds to the <code>divshot.json</code> file created by the command line tools.</p>
    name: config
  - type: Array[String]
    description: |-
      <p>A list of the files contained in the build.</p>
      <div class="highlight"><pre><span class="p">[</span>
        <span class="s2">&quot;/index.html&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/css/main.css&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/images/logo.png&quot;</span>
      <span class="p">]</span>
      </pre></div>
    name: files
  - type: Object
    description: |
      <p>Monotonically incrementing version number. Release versions are scoped by the environment.</p>
    name: loadpoint
  - type: Timestamp
    description: |
      <p><a href="https://en.wikipedia.org/wiki/Unix_time">https://en.wikipedia.org/wiki/Unix_time</a></p>
    name: timestamp
  - type: Build
    description: |
      <p>See <a href="entities/Build">Build documentation</a> for a description of this data.</p>
    name: build
- name: Release
  routes:
  - method: GET
    params:
      app_id: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/releases(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/releases(.:format)
    minpath: /apps/:app_id/releases
    id: GET/apps/:app_id/releases
    description: Undocumented
    returns:
    - Release
    return_type: collection
    failure_modes:
      app_not_found:
        message: No app found by this id.
        status: 404
        description: ''
      not_authorized_to_release:
        message: Not authorized to release this app.
        status: 401
        description: ''
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/releases(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params:
      app_id: ''
      env: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/releases\/(?<env>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/releases/:env(.:format)
    minpath: /apps/:app_id/releases/:env
    id: GET/apps/:app_id/releases/:env
    description: Undocumented
    returns:
    - Release
    return_type: collection
    failure_modes:
      app_not_found:
        message: No app found by this id.
        status: 404
        description: ''
      not_authorized_to_release:
        message: Not authorized to release this app.
        status: 401
        description: ''
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/releases\/(?<env>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?$
  - method: POST
    params:
      app_id: ''
      env: ''
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/releases\/(?<env>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/releases/:env(.:format)
    minpath: /apps/:app_id/releases/:env
    id: POST/apps/:app_id/releases/:env
    description: |
      <p>In the POST body, include only one of the attributes <code>build</code> or <code>environment</code>.
      The <code>build</code> attribute specifes a build to release by the <code>ref</code> of the build. The following POST would deploy the build <code>v0.3.1</code> to the staging environment:
      <code>POST /apps/my-app/releases/staging</code> <code>json {
        &quot;build&quot;: &quot;v0.3.1&quot;
      }</code>
      The <code>environment</code> attribute will promote an existing release to a new environment.
      The following POST would deploy the current staging build to production:
      <code>POST /apps/my-app/releases/production</code> <code>json {
        &quot;environment&quot;: &quot;staging&quot;
      }</code></p>
    returns:
    - Release
    return_type: instance
    failure_modes:
      app_not_found:
        message: No app found by this id.
        status: 404
        description: ''
      not_authorized_to_release:
        message: Not authorized to release this app.
        status: 401
        description: ''
      no_such_build:
        message: 
        status: 422
        description: ''
      too_many_candidates:
        message: 'Specify one of params: ''build'' or ''environment'', but not both.'
        status: 400
        description: ''
      duplicate_release:
        message: Already released that build in this environment.
        status: 403
        description: ''
      build_not_final:
        message: Build must be finalized before release.
        status: 403
        description: ''
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/releases\/(?<env>[^\/.?]+)(?:\.(?<format>[^\/.?]+))?$
  - method: POST
    params:
      app_id: ''
      env: ''
      version:
        required: false
        type: Integer
    compiled: (?-mix:\A\/apps\/(?<app_id>[^\/.?]+)\/releases\/(?<env>[^\/.?]+)\/rollback(?:\.(?<format>[^\/.?]+))?\Z)
    path: /apps/:app_id/releases/:env/rollback(.:format)
    minpath: /apps/:app_id/releases/:env/rollback
    id: POST/apps/:app_id/releases/:env/rollback
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/apps\/(?<app_id>[^\/.?]+)\/releases\/(?<env>[^\/.?]+)\/rollback(?:\.(?<format>[^\/.?]+))?$
  - method: GET
    params: {}
    compiled: (?-mix:\A\/rollback(?:\.(?<format>[^\/.?]+))?\Z)
    path: /rollback(.:format)
    minpath: /rollback
    id: GET/rollback
    description: Undocumented
    returns: 
    return_type: 
    failure_modes: {}
    regex: ^\/rollback(?:\.(?<format>[^\/.?]+))?$
  entity_name: Release
  docs:
  - type: String
    description: |
      <p>The email address of the user who created this release.    </p>
    name: author
  - type: String
    description: |
      <p>The ID of the application for this release.</p>
    name: application_id
  - type: String
    description: |
      <p>The environment for this build.</p>

      <p>See <a href="entities/Environment">Environment documentation</a> for a description of this data.</p>
    name: env
  - type: String
    description: |
      <p>Url specific to this release.</p>
    name: url
  - type: Integer
    description: |
      <p>Version # for this release.</p>
    name: version
